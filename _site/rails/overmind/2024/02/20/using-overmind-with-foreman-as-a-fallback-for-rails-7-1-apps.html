<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="light dark"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Using Overmind with Foreman as a fallback for Rails 7.1+ apps | Kyrylo Silin</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="Using Overmind with Foreman as a fallback for Rails 7.1+ apps" />
<meta name="author" content="Kyrylo Silin" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="When you generate a new Rails 7.1 app, you have a binstub called bin/dev. The binstub is responsible for launching your development tools defined in Procfile.dev. By default, Rails uses Foreman to start your app. Overmind is a better alternative to Foreman. Your project can support both at the same time, so your team won’t hate you. Here’s how." />
<meta property="og:description" content="When you generate a new Rails 7.1 app, you have a binstub called bin/dev. The binstub is responsible for launching your development tools defined in Procfile.dev. By default, Rails uses Foreman to start your app. Overmind is a better alternative to Foreman. Your project can support both at the same time, so your team won’t hate you. Here’s how." />
<link rel="canonical" href="http://localhost:4000/rails/overmind/2024/02/20/using-overmind-with-foreman-as-a-fallback-for-rails-7-1-apps.html" />
<meta property="og:url" content="http://localhost:4000/rails/overmind/2024/02/20/using-overmind-with-foreman-as-a-fallback-for-rails-7-1-apps.html" />
<meta property="og:site_name" content="Kyrylo Silin" />
<meta property="og:image" content="https://imgur.com/5bmuz3q.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-02-20T12:00:00+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="https://imgur.com/5bmuz3q.png" />
<meta property="twitter:title" content="Using Overmind with Foreman as a fallback for Rails 7.1+ apps" />
<meta name="twitter:site" content="@kyrylosilin" />
<meta name="twitter:creator" content="@Kyrylo Silin" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Kyrylo Silin","url":"https://kyrylo.org/"},"dateModified":"2024-02-20T17:40:20+02:00","datePublished":"2024-02-20T12:00:00+02:00","description":"When you generate a new Rails 7.1 app, you have a binstub called bin/dev. The binstub is responsible for launching your development tools defined in Procfile.dev. By default, Rails uses Foreman to start your app. Overmind is a better alternative to Foreman. Your project can support both at the same time, so your team won’t hate you. Here’s how.","headline":"Using Overmind with Foreman as a fallback for Rails 7.1+ apps","image":"https://imgur.com/5bmuz3q.png","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/rails/overmind/2024/02/20/using-overmind-with-foreman-as-a-fallback-for-rails-7-1-apps.html"},"url":"http://localhost:4000/rails/overmind/2024/02/20/using-overmind-with-foreman-as-a-fallback-for-rails-7-1-apps.html"}</script>
<!-- End Jekyll SEO tag -->
<link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Kyrylo Silin" /><link rel="icon" type="image/png" href="/assets/images/favicon-96x96.png" sizes="96x96" />
  <link rel="shortcut icon" href="/assets/images/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon.png" />
  <meta name="apple-mobile-web-app-title" content="Kyrylo Silin" />
  <link rel="manifest" href="/assets/images/site.webmanifest" />

  <script defer data-domain="kyrylo.org" src="https://plausible.telebugs.com/js/script.hash.outbound-links.tagged-events.js"></script>
  <script>window.plausible = window.plausible || function () { (window.plausible.q = window.plausible.q || []).push(arguments) }</script>
  <script data-site="KDDVSIV" src="https://analytics.kyrylo.org/script.js" defer></script>

  <style>
    body {
      font: 16px "Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, Verdana, sans-serif;
      line-height: 1.5;
    }

    main,
    footer {
      max-width: 70ch;
      margin: 0 auto;
    }

    pre {
      overflow: auto;
    }

    pre,
    blockquote {
      background-color: ghostwhite;
      color: darkslategray;
    }

    .article img {
      max-width: 100%;
    }

    .article a,
    code {
      word-break: break-word;
    }

    code {
      font-size: 14px;
    }

    blockquote {
      margin: 1em 0;
      padding-left: 20px;
      border-left: 4px solid dimgray;
    }

    nav a {
      margin-right: 8px;
    }

    a {
      color: blue;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    a:visited:active,
    a:active {
      color: red;
    }

    a:visited {
      color: purple;
    }

    @media (prefers-color-scheme: dark) {
      a {
        color: mediumslateblue;
      }

      a:visited:active,
      a:active {
        color: orangered;
      }

      a:visited {
        color: plum;
      }

      pre,
      blockquote {
        color: lightsteelblue;
        background-color: #2b2b2b;
      }
    }
  </style>
</head>
<body>
    <main>
      <article itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    <h1 itemprop="name headline">Using Overmind with Foreman as a fallback for Rails 7.1+ apps</h1>

    <p>
      <time datetime="2024-02-20T12:00:00+02:00" itemprop="datePublished">
        Feb 20, 2024
      </time>
      |
      <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <picture>
          <source srcset="/assets/images/kyrylo-silin.webp 2x, /assets/images/kyrylo-silin.webp 1x" type="image/webp">
          <img src="/assets/images/kyrylo-silin.webp" alt="Kyrylo Silin" width="15" height="15">
        </picture>
        <span itemprop="name">
          <a href="/">Kyrylo Silin</a>
        </span>
      </span>
      &middot;
      <a href="https://x.com/kyrylo" target="_blank">@kyrylo</a>
      &middot;
      <a href="https://bsky.app/profile/kyrylo.org" target="_blank">bluesky:@kyrylo.org</a>
      &middot;
      <a href="https://mastodon.social/@kyrylosilin" target="_blank">mastodon:@kyrylosilin</a>
    </p>
  </header>

  <div class="article" itemprop="articleBody">
    <p><img src="https://imgur.com/5bmuz3q.png" style="margin-bottom: 1rem;" alt="Overmind + Foreman + Rails = Happy Team" />
When you generate a new Rails 7.1 app, you have a binstub called <code class="language-plaintext highlighter-rouge">bin/dev</code>.
The binstub is responsible for launching your development tools defined in
<code class="language-plaintext highlighter-rouge">Procfile.dev</code>. By default, Rails uses <a href="https://github.com/ddollar/foreman">Foreman</a> to start your app.
<a href="https://github.com/DarthSim/overmind">Overmind</a> is a better alternative to Foreman. Your project can
support both at the same time, so your team won’t hate you. Here’s how.</p>

<h2 id="what-is-foreman">What is Foreman?</h2>

<blockquote>
  <p>Manage Procfile-based applications</p>
</blockquote>

<p>In a nutshell, it’s a manager for any process that your Rails app needs. It
hasn’t been updated in a couple of years already.</p>

<h2 id="what-is-overmind">What is Overmind?</h2>

<blockquote>
  <p>Overmind is a process manager for Procfile-based applications and tmux.</p>
</blockquote>

<p>It’s an alternative that is more advanced. It is updated more regularly, so I
recommend it to anyone starting a new Rails project.</p>

<h2 id="co-using-overmind-in-your-rails-project-along-with-foreman">Co-using Overmind in your Rails project along with Foreman</h2>

<h3 id="installation">Installation</h3>

<p>Install Overmind (macOS):</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>overmind
</code></pre></div></div>

<p>Note: you <em>don’t</em> need to add anything to your Gemfile.</p>

<h3 id="tweak-bindev">Tweak <code class="language-plaintext highlighter-rouge">bin/dev</code></h3>

<p>Every time I generate a new Rails 7.1 project, I replace <code class="language-plaintext highlighter-rouge">bin/dev</code> with the
following content:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env sh</span>

<span class="c"># Default to port 3000 if not specified</span>
<span class="nb">export </span><span class="nv">PORT</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">PORT</span><span class="k">:-</span><span class="nv">3000</span><span class="k">}</span><span class="s2">"</span>

<span class="k">if </span><span class="nb">command</span> <span class="nt">-v</span> overmind &amp;&gt; /dev/null
<span class="k">then
  </span>overmind start <span class="nt">-f</span> Procfile.dev <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span>
  <span class="nb">exit</span> <span class="nv">$?</span>
<span class="k">fi

if</span> <span class="o">!</span> gem list foreman <span class="nt">-i</span> <span class="nt">--silent</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"Installing foreman..."</span>
  gem <span class="nb">install </span>foreman
<span class="k">fi

</span>foreman start <span class="nt">-f</span> Procfile.dev <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span>
</code></pre></div></div>

<p>In this updated version of <code class="language-plaintext highlighter-rouge">bin/dev</code>, we added support for Overmind while still
maintaining Foreman support.</p>

<p>If you have Overmind installed, it will use that.</p>

<p>If you don’t have it installed, Foreman will be used as a fallback.</p>

<p>Now you can open a PR against your Rails repository and be happy that your
teammates don’t hate you if they prefer Foreman instead.</p>


  </div>
</article>

<hr>

<div>
  
    <div>
      Next: <a href="/indie-hacking/2024/02/21/i-built-a-word-matching-game-called-matcharoo.html" rel="next" title="I built a word-matching game called Matcharoo">I built a word-matching game called Matcharoo</a>
    </div>
  
  
    <div>
      Prev: <a href="/rails/kamal/2024/02/16/how-to-generate-sitemap-xml-for-your-rails-7-1-app-with-kamal.html" rel="prev" title="How to generate sitemap.xml for your Rails 7.1+ app with Kamal">How to generate sitemap.xml for your Rails 7.1+ app with Kamal</a>
    </div>
  
</div>

    </main><footer>
  <hr>
  <small>
    <p><a href="/">Kyrylo Silin</a> — entrepreneur, software engineer, and web developer.</p>
    <p><a href="/feed.xml">ATOM/RSS site feed</a></p>
    <p>Last modified: <time datetime="2024-02-20T17:40:20+02:00">February 20, 2024</time></p>
  </small>
</footer>
</body>

</html>
